<html>

    <head>
        <meta charset="utf-8" />
        <title>Image Demo </title>
        <style type="text/css">
            /* img#class { -webkit-filter: grayscale(100%);
             filter: grayscale(100%);
             } */
        </style>
        <script>
            function changePic() {
                var c = document.getElementById("myCanvas");
                var ctx = c.getContext("2d");
                var img = document.getElementById("class");
                ctx.drawImage(img, 0, 0);
                var imgData = ctx.getImageData(0, 0, c.width, c.height);

                //red channel
                var i;
                for (i = 0; i < imgData.data.length; i += 4) {
                    imgData.data[i] = imgData.data[i] * 1.5;
                    imgData.data[i + 1] = imgData.data[i + 1] * 1.5;
                    imgData.data[i + 2] = imgData.data[i + 2] * 0.5;
                    // imgData.dada[i] = 0; (255: white)
                    // imgData.data[i + 1] = 0;
                    // imgData.data[i + 2] = 0;                
                    }
                ctx.putImageData(imgData, 0, 0);
            }
            function getGrayscale() {
                var c = document.getElementById("myCanvas");
                var ctx = c.getContext("2d");
                var img = document.getElementById("class");
                ctx.drawImage(img, 0, 0);
                var imgData = ctx.getImageData(0, 0, c.width, c.height);

                //avg: /3 * 1.5: whiter; /3 * 0.5: darker;
                var i;
                for (i = 0; i < imgData.data.length; i += 4) {
                    let avg = (imgData.data[i] + imgData.data[i + 1] + imgData.data[i + 2])/3; 
                    imgData.data[i] = avg;
                    imgData.data[i + 1] = avg;
                    imgData.data[i + 2] = avg;           
                    }
                ctx.putImageData(imgData, 0, 0);
            }
            function invert() {
                var c = document.getElementById("myCanvas");
                var ctx = c.getContext("2d");
                var img = document.getElementById("class");
                ctx.drawImage(img, 0, 0);
                var imgData = ctx.getImageData(0, 0, c.width, c.height);

                var i;
                for (i = 0; i < imgData.data.length; i += 4) {
                    imgData.data[i] = 255 -  imgData.data[i];
                    imgData.data[i + 1] = 255 - imgData.data[i + 1];
                    imgData.data[i + 2] = 255 - imgData.data[i + 2];           
                    }
                ctx.putImageData(imgData, 0, 0);
            }
        </script>
    </head>

    <body>
        <img id="class" src="images/class2.JPG" width="600" alt="class" />
        <canvas id="myCanvas" width="600" height="450">
            Your browser does not support the HTML5 canvas tag.</canvas>
        <p>
            <button id="button1" onclick="changePic()">Change</button>
            <button id="button2" onclick="getGrayscale()">Grayscale</button>
            <button id="button3" onclick="invert()">Negative</button>
        </p>

    </body>

</html>